---
title: "Transrec - Python Standards"
description: "Python coding standards for Transrec project"
globs: "src/**/*.py"
alwaysApply: true
---

# Coding Standards

- Use type hints for all function parameters and returns
- Follow PEP 8 strictly
- Maximum line length: 88 characters (Black style)
- Use docstrings for all functions (Google style)
- All functions should be testable
- Use logging instead of print()
- Never use global variables (use classes)

# Project-specific

- Imports order: stdlib → third-party → local
- Use `from src.logger import logger` for logging
- Use `from src.config import config` for configuration
- All file I/O must handle exceptions
- All subprocess calls must have timeout

# v2.0.0 Specific

- Check `license_manager` before using PRO features
- Use `UserSettings` dataclass for user configuration
- Support any external volume, not just Olympus
- GUI windows use tkinter (cross-platform within macOS)

# Testing

- Write tests before implementation (TDD)
- Use pytest
- All public functions must have tests
- Use fixtures for common setup
- Mock `license_manager` in tests

# Error Handling

- Always use try-except for file operations
- Log all errors with appropriate level
- Graceful degradation - continue on non-critical errors
- Timeout protection on all long-running operations
- FREE features must work even if PRO verification fails

# Dataclasses & Types

```python
from dataclasses import dataclass
from enum import Enum
from typing import Optional, List

@dataclass
class Example:
    """Always use dataclass for data structures."""
    field: str
    optional_field: Optional[str] = None
```
