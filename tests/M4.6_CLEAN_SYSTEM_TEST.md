# TEST M4.6: Clean System Test - Instrukcje

> **Data:** 2025-12-29  
> **Test:** M4.6 - Clean system test  
> **Cel:** Sprawdzenie czy bundle dziaÅ‚a na czystym macOS bez Python

---

## ğŸ“‹ Przygotowanie

### 1. Skopiuj bundle na innego Maca

**Opcja A: Przez AirDrop**
```bash
# Na Macu ÅºrÃ³dÅ‚owym (gdzie zbudowano bundle)
open -a AirDrop dist/Transrec.app
```

**Opcja B: Przez USB/External Drive**
```bash
# Skopiuj folder dist/Transrec.app na zewnÄ™trzny dysk
cp -R dist/Transrec.app /Volumes/[NAZWA_DYSKU]/
```

**Opcja C: Przez sieÄ‡ (scp)**
```bash
# JeÅ›li masz dostÄ™p SSH do drugiego Maca
scp -r dist/Transrec.app user@other-mac.local:~/Desktop/
```

### 2. SprawdÅº czy Python nie jest zainstalowany na docelowym Macu

```bash
# Na docelowym Macu sprawdÅº:
which python3
python3 --version

# JeÅ›li Python jest zainstalowany, sprawdÅº czy to systemowy:
/usr/bin/python3 --version  # Systemowy Python (moÅ¼e byÄ‡)
# Lub sprawdÅº czy to Homebrew:
brew list python3  # JeÅ›li zwraca bÅ‚Ä…d, Python nie jest z Homebrew
```

**UWAGA:** ObecnoÅ›Ä‡ systemowego Pythona (np. `/usr/bin/python3`) jest OK - bundle powinien uÅ¼ywaÄ‡ wÅ‚asnego Pythona z bundle.

---

## ğŸ§ª Scenariusz testowy

### Krok 1: Uruchomienie aplikacji

1. **Na docelowym Macu**, znajdÅº `Transrec.app` (na Desktop lub w Downloads)
2. **Kliknij dwukrotnie** lub uÅ¼yj:
   ```bash
   open ~/Desktop/Transrec.app
   # lub
   open ~/Downloads/Transrec.app
   ```

3. **OBSERWUJ:**
   - Czy aplikacja siÄ™ uruchamia (ikona w menu bar)
   - Czy pojawiajÄ… siÄ™ bÅ‚Ä™dy w Console.app
   - Czy logi sÄ… tworzone: `~/Library/Logs/olympus_transcriber.log`

### Krok 2: Test wizarda (pierwsze uruchomienie)

1. **JeÅ›li to pierwsze uruchomienie**, powinien pojawiÄ‡ siÄ™ wizard
2. **PrzejdÅº przez wizard:**
   - âœ… Krok 1: Powitanie
   - âœ… Krok 2: Pobieranie zaleÅ¼noÅ›ci (jeÅ›li nie sÄ… pobrane)
   - âœ… Krok 3: Full Disk Access (jeÅ›li nie nadane)
   - âœ… Krok 4: Å¹rÃ³dÅ‚a nagraÅ„
   - âœ… Krok 5: Folder docelowy
   - âœ… Krok 6: JÄ™zyk
   - âœ… Krok 7: AI config (opcjonalnie)
   - âœ… Krok 8: ZakoÅ„czenie

3. **SPRAWDÅ¹** czy konfiguracja zostaÅ‚a zapisana:
   ```bash
   cat ~/Library/Application\ Support/Transrec/config.json
   ```

### Krok 3: Test pobierania zaleÅ¼noÅ›ci

**JeÅ›li zaleÅ¼noÅ›ci nie sÄ… pobrane:**

1. UsuÅ„ zaleÅ¼noÅ›ci (jeÅ›li istniejÄ…):
   ```bash
   rm -rf ~/Library/Application\ Support/Transrec/bin/
   rm -rf ~/Library/Application\ Support/Transrec/models/
   rm -f ~/Library/Application\ Support/Transrec/config.json
   ```

2. Uruchom aplikacjÄ™ ponownie
3. **SPRAWDÅ¹:**
   - Czy wizard wykrywa brak zaleÅ¼noÅ›ci
   - Czy krok pobierania siÄ™ uruchamia
   - Czy okno dialogowe pokazuje postÄ™p
   - Czy pobieranie koÅ„czy siÄ™ sukcesem
   - Czy zaleÅ¼noÅ›ci sÄ… pobierane:
     ```bash
     ls -la ~/Library/Application\ Support/Transrec/bin/
     ls -la ~/Library/Application\ Support/Transrec/models/
     ```

### Krok 4: Test menu bar

1. **Kliknij ikonÄ™** Transrec w menu bar
2. **SPRAWDÅ¹** wszystkie opcje menu:
   - Status
   - Ostatnie transkrypcje
   - Resetuj pamiÄ™Ä‡ od...
   - Retranskrybuj plik...
   - Ustawienia...
   - WyjÅ›cie

3. **SPRAWDÅ¹** czy kaÅ¼da opcja dziaÅ‚a poprawnie

### Krok 5: Test transkrypcji (jeÅ›li masz recorder)

**UWAGA:** Ten krok wymaga podÅ‚Ä…czenia dyktafonu/karty SD

1. **PodÅ‚Ä…cz** dyktafon lub kartÄ™ SD z nagraniami
2. **SPRAWDÅ¹** czy aplikacja wykrywa nowe pliki
3. **SPRAWDÅ¹** czy transkrypcja dziaÅ‚a:
   - Czy pliki sÄ… przetwarzane
   - Czy transkrypty sÄ… tworzone w folderze docelowym
   - Czy notyfikacje sÄ… wyÅ›wietlane

### Krok 6: Sprawdzenie logÃ³w

```bash
# SprawdÅº logi aplikacji
tail -50 ~/Library/Logs/olympus_transcriber.log

# SprawdÅº Console.app dla bÅ‚Ä™dÃ³w systemowych
# OtwÃ³rz Console.app i wyszukaj "Transrec" lub "olympus_transcriber"
```

---

## âœ… Checklist wynikÃ³w

### Podstawowe funkcje
- [ ] Aplikacja uruchamia siÄ™ bez bÅ‚Ä™dÃ³w
- [ ] Ikona pojawia siÄ™ w menu bar
- [ ] Brak bÅ‚Ä™dÃ³w w Console.app
- [ ] Logi sÄ… tworzone poprawnie

### Wizard
- [ ] Wizard uruchamia siÄ™ przy pierwszym uruchomieniu
- [ ] Wszystkie kroki wizarda dziaÅ‚ajÄ…
- [ ] Konfiguracja jest zapisywana poprawnie

### Pobieranie zaleÅ¼noÅ›ci
- [ ] Wizard wykrywa brak zaleÅ¼noÅ›ci
- [ ] Pobieranie dziaÅ‚a poprawnie
- [ ] Okno dialogowe pokazuje postÄ™p
- [ ] ZaleÅ¼noÅ›ci sÄ… pobierane do poprawnej lokalizacji
- [ ] Po pobraniu aplikacja dziaÅ‚a normalnie

### Menu bar
- [ ] Wszystkie opcje menu dziaÅ‚ajÄ…
- [ ] Status jest wyÅ›wietlany poprawnie
- [ ] Ustawienia dziaÅ‚ajÄ…

### Transkrypcja (jeÅ›li testowane)
- [ ] Aplikacja wykrywa podÅ‚Ä…czenie dysku/karty SD
- [ ] Pliki sÄ… skanowane
- [ ] Transkrypcja dziaÅ‚a
- [ ] Transkrypty sÄ… zapisywane poprawnie

---

## ğŸ“ Notatki z testÃ³w

### Åšrodowisko docelowe:
- macOS wersja: _______________
- Architektura: _______________ (arm64 / x86_64)
- Python zainstalowany: TAK / NIE
- Python wersja (jeÅ›li zainstalowany): _______________

### Wyniki:
- [ ] âœ… Wszystkie testy przechodzÄ…
- [ ] âš ï¸ CzÄ™Å›ciowe problemy (opisz poniÅ¼ej)
- [ ] âŒ Krytyczne problemy (opisz poniÅ¼ej)

### Znalezione problemy:

1. **Problem:** _______________
   - **Opis:** _______________
   - **KrytycznoÅ›Ä‡:** Wysoka / Åšrednia / Niska

2. **Problem:** _______________
   - **Opis:** _______________
   - **KrytycznoÅ›Ä‡:** Wysoka / Åšrednia / Niska

### Dodatkowe uwagi:

_______________

---

## ğŸ” Troubleshooting

### Problem: Aplikacja nie uruchamia siÄ™

**SprawdÅº:**
1. Console.app - czy sÄ… bÅ‚Ä™dy systemowe?
2. Logi: `~/Library/Logs/olympus_transcriber.log`
3. Czy bundle ma uprawnienia do wykonania:
   ```bash
   chmod +x Transrec.app/Contents/MacOS/Transrec
   ```

### Problem: "App is damaged" lub "Cannot be opened"

**RozwiÄ…zanie:**
```bash
# UsuÅ„ kwarantannÄ™
xattr -cr Transrec.app
```

### Problem: Wizard nie dziaÅ‚a

**SprawdÅº:**
- Czy `config.json` istnieje i jest poprawny
- Czy logi pokazujÄ… bÅ‚Ä™dy
- Czy Full Disk Access jest nadane (jeÅ›li wymagane)

---

**Po zakoÅ„czeniu testÃ³w, zaktualizuj `tests/MANUAL_TESTING_PHASE_4.md` z wynikami.**

